<template>

    <div class="content">
        <!--******************
          Top Heading area
         **********************-->
        <div class="top-bar-top-section bbot">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-6">
                        <span class="float-left mr20"><img src="assets/images/BACK.svg"/></span>
                        <h3 class="htxt_medium_24 dark_700">Reviews Overview</h3>
                    </div>
                    <div class="col-md-6 col-6 text-right">
                        <button class="circle-icon-40 lh_32"><i class="ri-settings-2-line reviews_400 fsize15"></i> </button>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>

        <!--******************
          Content Area
         **********************-->
        <div class="content-area">

            <div class="container-fluid">

                <div class="row">
                    <div class="col-md-4">
                        <div class="card p25 pt20 animate_top">
                            <div class="row">
                                <div class="col-9">
                                    <p class="fsize12 fw500 ls_4 dark_400 m-0 float-left">REVIEWS SUMMARY</p>
                                </div>
                                <div class="col">
                                    <div class="float-right">
                                        <button type="button" class="dropdown-toggle table_dots_dd" data-toggle="dropdown" aria-expanded="false"> <span><img src="assets/images/more-vertical.svg"></span> </button>
                                        <div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(647px, 102px, 0px);"> <a class="dropdown-item" href="#">Link 1</a> <a class="dropdown-item" href="#">Link 2</a> <a class="dropdown-item" href="#">Link 3</a> </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <hr>
                                </div>
                            </div>
                            <div class="text-center p20 pt10">
                                <h3 class="lh_120 dark_700 htxt_regular_36">4.1</h3>
                                <p class="m-0 fsize13"><span class="green_400 mr-2"><i><img src="assets/images/arrow-right-up-line.svg"></i> &nbsp; 33,87%</span>last month</p>
                            </div>
                            <div class="ratings">
                                <ul class="ratinglist">
                                    <li>
                                        <div class="row inner">
                                            <div class="star_sec">
                                                <p class="dark_500">5 <i><img src="assets/images/star-fill-12.png"> </i></p>
                                            </div>
                                            <div class="progress_sec">
                                                <div data-toggle="tooltip" title="" data-placement="top" class="progress" data-original-title="Total Requests 17">
                                                    <div class="progress-bar progress-bar-info bkg_green_400" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="40" style="width:40%"></div>
                                                </div>
                                            </div>
                                            <div class="star_sec text-right">
                                                <p>37</p>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="row inner">
                                            <div class="star_sec">
                                                <p class="dark_500">4 <i><img src="assets/images/star-fill-12.png"> </i></p>
                                            </div>
                                            <div class="progress_sec">
                                                <div data-toggle="tooltip" title="" data-placement="top" class="progress" data-original-title="Total Requests 17">
                                                    <div class="progress-bar progress-bar-info bkg_green_400" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="70" style="width:70%"></div>
                                                </div>
                                            </div>
                                            <div class="star_sec text-right">
                                                <p>57</p>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="row inner">
                                            <div class="star_sec">
                                                <p class="dark_500">3 <i><img src="assets/images/star-fill-12.png"> </i></p>
                                            </div>
                                            <div class="progress_sec">
                                                <div data-toggle="tooltip" title="" data-placement="top" class="progress" data-original-title="Total Requests 17">
                                                    <div class="progress-bar progress-bar-info bkg_yellow_400" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="20" style="width:20%"></div>
                                                </div>
                                            </div>
                                            <div class="star_sec text-right">
                                                <p>5</p>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="row inner">
                                            <div class="star_sec">
                                                <p class="dark_500">2 <i><img src="assets/images/star-fill-12.png"> </i></p>
                                            </div>
                                            <div class="progress_sec">
                                                <div data-toggle="tooltip" title="" data-placement="top" class="progress" data-original-title="Total Requests 17">
                                                    <div class="progress-bar progress-bar-info bkg_red_400" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="80" style="width:80%"></div>
                                                </div>
                                            </div>
                                            <div class="star_sec text-right">
                                                <p>7</p>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="row inner">
                                            <div class="star_sec">
                                                <p class="dark_500">1 <i><img src="assets/images/star-fill-12.png"> </i></p>
                                            </div>
                                            <div class="progress_sec">
                                                <div data-toggle="tooltip" title="" data-placement="top" class="progress" data-original-title="Total Requests 17">
                                                    <div class="progress-bar progress-bar-info bkg_red_400" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="20" style="width:20%"></div>
                                                </div>
                                            </div>
                                            <div class="star_sec text-right">
                                                <p>125</p>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="card p25 pt20 animate_top h200">
                            <div class="row">
                                <div class="col-9">
                                    <p class="fsize12 fw500 ls_4 dark_400 m-0 float-left">WIDGET REVIEWS</p>
                                </div>
                                <div class="col">
                                    <div class="float-right">
                                        <button type="button" class="dropdown-toggle table_dots_dd" data-toggle="dropdown" aria-expanded="false"> <span><img src="assets/images/more-vertical.svg"></span> </button>
                                        <div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(647px, 102px, 0px);"> <a class="dropdown-item" href="#">Link 1</a> <a class="dropdown-item" href="#">Link 2</a> <a class="dropdown-item" href="#">Link 3</a> </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <hr>
                                </div>
                            </div>
                            <div class="p0 pt20 pb20">
                                <div class="row">
                                    <div class="col-md-7 pr-0">
                                        <h3 class="htxt_regular_28 dark_700 mt-0 mb-1">1,468</h3>
                                        <p class="m-0 fsize13"><span class="green_400 mr-2"><i><img src="assets/images/arrow-right-up-line.svg"></i>33,87%</span>last week</p>
                                    </div>
                                    <div class="col-md-5 pl-0 pr-0">
                                        <div style="margin-top: -30px" id="widgetreview2">
                                            <apexchart type=area height=130 :options="chartOptions" :series="series" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card p25 pt20 animate_top h200">
                            <div class="row">
                                <div class="col-9">
                                    <p class="fsize12 fw500 ls_4 dark_400 m-0 float-left">QUESTIONS & ANSWERS</p>
                                </div>
                                <div class="col">
                                    <div class="float-right">
                                        <button type="button" class="dropdown-toggle table_dots_dd" data-toggle="dropdown" aria-expanded="false"> <span><img src="assets/images/more-vertical.svg"></span> </button>
                                        <div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(647px, 102px, 0px);"> <a class="dropdown-item" href="#">Link 1</a> <a class="dropdown-item" href="#">Link 2</a> <a class="dropdown-item" href="#">Link 3</a> </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <hr>
                                </div>
                            </div>
                            <div class="p0 pt20 pb20">
                                <div class="row">
                                    <div class="col-md-7 pr-0">
                                        <h3 class="htxt_regular_28 dark_700 mt-0 mb-1">65</h3>
                                        <p class="m-0 fsize13"><span class="red_400 mr-2"><i><img src="assets/images/arrow-right-down-line-red.svg"></i>33,87%</span>last week</p>
                                    </div>
                                    <div class="col-md-5">
                                        <div style="min-height: 40px; margin: 0px 0 0;" class="img_box">
                                            <div id="question_answer" class=""></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card p25 pt20 animate_top h200">
                            <div class="row">
                                <div class="col-9">
                                    <p class="fsize12 fw500 ls_4 dark_400 m-0 float-left">REVIEW REQUESTS</p>
                                </div>
                                <div class="col">
                                    <div class="float-right">
                                        <button type="button" class="dropdown-toggle table_dots_dd" data-toggle="dropdown" aria-expanded="false"> <span><img src="assets/images/more-vertical.svg"></span> </button>
                                        <div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(647px, 102px, 0px);"> <a class="dropdown-item" href="#">Link 1</a> <a class="dropdown-item" href="#">Link 2</a> <a class="dropdown-item" href="#">Link 3</a> </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <hr>
                                </div>
                            </div>
                            <div class="p0 pt20 pb20">
                                <div class="row">
                                    <div class="col-md-7 pr-0">
                                        <h3 class="htxt_regular_28 dark_700 mt-0 mb-1">284</h3>
                                        <p class="m-0 fsize13"><span class="red_400 mr-2"><i><img src="assets/images/arrow-right-down-line-red.svg"></i>33,87%</span>last week</p>
                                    </div>
                                    <div class="col-md-5 pl0 pr0">
                                        <div style="margin-top: -30px" id="widgetreview">
                                            <apexchart type=area height=130 :options="chartOptions" :series="series" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card p25 pt20 animate_top h200">
                            <div class="row">
                                <div class="col-9">
                                    <p class="fsize12 fw500 ls_4 dark_400 m-0 float-left">REQUEST CLICK RATE</p>
                                </div>
                                <div class="col">
                                    <div class="float-right">
                                        <button type="button" class="dropdown-toggle table_dots_dd" data-toggle="dropdown" aria-expanded="false"> <span><img src="assets/images/more-vertical.svg"></span> </button>
                                        <div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(647px, 102px, 0px);"> <a class="dropdown-item" href="#">Link 1</a> <a class="dropdown-item" href="#">Link 2</a> <a class="dropdown-item" href="#">Link 3</a> </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <hr>
                                </div>
                            </div>
                            <div class="p0 pt10 pb0">
                                <div class="row">
                                    <div class="col-md-7 pr-0">
                                        <h3 class="htxt_regular_28 dark_700 mt10 mb-1">32%</h3>
                                        <p class="m-0 fsize13"><span class="green_400 mr-2"><i><img src="assets/images/arrow-right-up-line.svg"></i>33,87%</span>last week</p>
                                    </div>
                                    <div class="col-md-5">
                                        <div style="min-height: 40px; margin: 0px 0 0;" class="img_box">
                                            <div id="openrate"></div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-6">
                        <LatestReviews></LatestReviews>
                    </div>

                    <div class="col-md-6">
                        <div class="card p25 pt20 pb10">
                            <div class="row">
                                <div class="col">
                                    <p class="fsize12 fw500 ls_4 dark_400 m-0 float-left">CAMPAIGNS</p>
                                </div>
                                <div class="col">
                                    <div class="float-right">
                                        <button type="button" class="dropdown-toggle table_dots_dd" data-toggle="dropdown" aria-expanded="false"> <span><img src="assets/images/more-vertical.svg"></span> </button>
                                        <div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(647px, 102px, 0px);"> <a class="dropdown-item" href="#">Link 1</a> <a class="dropdown-item" href="#">Link 2</a> <a class="dropdown-item" href="#">Link 3</a> </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <hr class="mb-0">
                                </div>
                            </div>


                            <div class="row">
                                <div class="col">
                                    <table class="table table-borderless mb-0">
                                        <tbody>
                                        <tr>
                                            <td><span class="table-img mr15"><span class="circle_icon_24 bkg_reviews_400"><img src="assets/images/pricetag3-fill.svg" width="13"></span></span> Request Campaign</td>
                                            <td>128</td>
                                            <td>39%</td>
                                            <td>86%</td>
                                            <td class="text-right"><span class="dark_400"><i class="ri-star-s-fill fsize18 green_400"></i> &nbsp; 4.5</span></td>
                                        </tr>

                                        <tr>
                                            <td><span class="table-img mr15"><span class="circle_icon_24 bkg_light_800"><img src="assets/images/pricetag3-fill.svg" width="13"></span></span> Customers</td>
                                            <td>828</td>
                                            <td>70%</td>
                                            <td>78%</td>
                                            <td class="text-right"><span class="dark_400"><i class="ri-star-s-fill fsize18 yellow_500"></i> &nbsp; 3.2</span></td>
                                        </tr>

                                        <tr>
                                            <td><span class="table-img mr15"><span class="circle_icon_24 bkg_reviews_400"><img src="assets/images/pricetag3-fill.svg" width="13"></span></span> Product Reviews</td>
                                            <td>284</td>
                                            <td>68%</td>
                                            <td>62%</td>
                                            <td class="text-right"><span class="dark_400"><i class="ri-star-s-fill fsize18 green_400"></i> &nbsp; 4.1</span></td>
                                        </tr>

                                        <tr>
                                            <td><span class="table-img mr15"><span class="circle_icon_24 bkg_reviews_400"><img src="assets/images/pricetag3-fill.svg" width="13"></span></span> Request Campaign</td>
                                            <td>128</td>
                                            <td>39%</td>
                                            <td>86%</td>
                                            <td class="text-right"><span class="dark_400"><i class="ri-star-s-fill fsize18 green_400"></i> &nbsp; 4.5</span></td>
                                        </tr>

                                        <tr>
                                            <td><span class="table-img mr15"><span class="circle_icon_24 bkg_light_800"><img src="assets/images/pricetag3-fill.svg" width="13"></span></span> Customers</td>
                                            <td>828</td>
                                            <td>70%</td>
                                            <td>78%</td>
                                            <td class="text-right"><span class="dark_400"><i class="ri-star-s-fill fsize18 yellow_500"></i> &nbsp; 3.2</span></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script type="application/javascript" defer src="https://unpkg.com/vue/dist/vue.js"></script>
        <script type="application/javascript" defer src="https://cdn.jsdelivr.net/npm/apexcharts@latest"></script>
        <script type="application/javascript" defer src="https://cdn.jsdelivr.net/npm/vue-apexcharts"></script>
        <!--******************
          Content Area End
         **********************-->

    </div>

</template>

<script>
    import UserAvatar from '@/components/helpers/UserAvatar';
    import Pagination from '@/components/helpers/Pagination';
    import LatestReviews from '@/components/admin/brandboost/onsite/tabs/LatestReviews';
    import LatestCampaigns from '@/components/admin/brandboost/onsite/tabs/LatestCampaigns';

    export default {
        props : ['title', 'review_type'],
        components: {UserAvatar, Pagination, LatestReviews, LatestCampaigns},
        data(){
            return {
                moduleName: '',
                moduleUnitID: '',
                moduleAccountID: '',
                allData: {},
                requests : '',
                oReviews : '',
                oCampaign: '',
                reviewTags: '',
                campaignId: '',
                current_page: 1,
                breadcrumb: '',
                seletedTab: 1,
                viewType: 'List View',
                sortBy: 'Date Created',
                searchBy: '',
                chartOptions: {
                    chart: {
                        zoom: {
                            enabled: false
                        },

                        toolbar: {
                            show: false
                        }
                    },
                    dataLabels: {
                        enabled: false
                    },
                    stroke: {
                        curve: 'straight',
                        width: 1
                    },
                    series: [{
                        name: "Widget",
                        data: series.monthDataSeries1.prices
                    }],

                    colors: ['#8c95f8'],

                    grid: {
                        borderColor: '#eee',
                        strokeDashArray: 5,
                    },

                    labels: series.monthDataSeries1.dates,
                    xaxis: {
                        type: 'datetime',
                    },
                    yaxis: {
                        opposite: true,
                        show: false
                    },
                    legend: {
                        horizontalAlign: 'left'
                    }
                }
            }
        }
    }

    /***************
     CIRCLE PIE CHARTS
     ************/

    var openrate = {
        chart: {
            width: 110,
            type: 'pie',
        },
        colors:['#e9ebfd', '#828cec', '#9C27B0'],
        legend: {
            show: false
        },
        labels: ['A', 'B'],
        series: [75, 25],
        responsive: [{
            breakpoint: 480,
            options: {
                chart: {
                    width: 100
                }
            }
        }]
    }

   // var chart = new ApexCharts(document.querySelector("#openrate"), openrate).render();





    /***************
     COLUMN BAR CHARTS
     ************/

    var question_answer = {
        chart: {
            type: 'bar',
            width: 87,
            height: 52,
            sparkline: {
                enabled: true
            }
        },
        colors: ['#8c95f8'],


        plotOptions: {
            bar: {
                columnWidth: '40%',
                endingShape: 'rounded'
            }
        },
        series: [{
            data: [47, 45, 74, 94, 56, 74, 24]
        }],
        labels: [1, 2, 3, 4, 5, 6, 7],
        xaxis: {
            crosshairs: {
                width: 1
            },
        },
        tooltip: {
            fixed: {
                enabled: false
            },
            x: {
                show: false
            },
            y: {
                title: {
                    formatter: function (seriesName) {
                        return ''
                    }
                }
            },
            marker: {
                show: false
            }
        }
    }

   // new ApexCharts(document.querySelector("#question_answer"), question_answer).render();



</script>

<style>
    #openrate .apexcharts-canvas::after {
        border: 1px solid #e8eafd !important;
        border-radius: 100%;
        height: 90px;
        width: 90px !important;
        content: '';
        left: 10px;
        top: 0px;
        z-index: 1;
        display: block;
        position: absolute;
    }
    #openrate .apexcharts-svg{z-index: 2!important; position: relative}
</style>
