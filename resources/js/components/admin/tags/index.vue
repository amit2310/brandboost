<template>

    <div class="content" id="masterContainer">

            <!--&&&&&&&&&&&& PAGE HEADER &&&&&&&&&&-->
            <div class="page_header">
                <div class="row">
                    <!--=============Headings & Tabs menu==============-->
                    <div class="col-md-5">
                        <h3><i class="icon-vcard"></i> &nbsp; Tags Group</h3>
                        <ul class="nav nav-tabs nav-tabs-bottom">
                            <li class="active"><a href="#right-icon-tab0" data-toggle="tab">Active Tags Group</a></li>
                            <li><a href="#right-icon-tab1" data-toggle="tab">Archive</a></li>
                        </ul>
                    </div>
                    <!--=============Button Area Right Side==============-->
                    <div class="col-md-7 text-right btn_area">
                        <div class="btn-group">
                            <button type="button" class="btn light_btn btn-icon dropdown-toggle" data-toggle="dropdown">
                                <i class="icon-calendar2"></i>&nbsp; &nbsp; Filter Contacts &nbsp; &nbsp; <span
                                class="caret"></span>
                            </button>
                            <div class="dropdown-menu dropdown-content width-320 dropdown-menu-right">
                                <div class="dropdown-content-heading"> Filter
                                    <ul class="icons-list">
                                        <li><a href="#"><i class="icon-more"></i></a></li>
                                    </ul>
                                </div>
                                <div class="">
                                    <div
                                        class="panel-group panel-group-control panel-group-control-right content-group-lg filter_campaign"
                                        id="accordion-control-right">
                                        <div class="panel panel-white">
                                            <div class="panel-heading sidebarheadings active">
                                                <h6 class="panel-title"><a data-toggle="collapse"
                                                                           data-parent="#accordion-control-right"
                                                                           href="#accordion-control-right-group1"><i
                                                    class="icon-star-empty3"></i>&nbsp;Campaign Type</a></h6>
                                            </div>
                                            <div id="accordion-control-right-group1" class="panel-collapse collapse">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            Most startups fail. But many of those failures are preventable.
                                                            The Lean Startup is a new approach being adopted across the
                                                            globe, changing the way companies are built and new products are
                                                            launched.
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="panel panel-white">
                                            <div class="panel-heading sidebarheadings">
                                                <h6 class="panel-title"><a class="collapsed" data-toggle="collapse"
                                                                           data-parent="#accordion-control-right"
                                                                           href="#accordion-control-right-group2"><i
                                                    class="icon-arrow-up-left2"></i>&nbsp; Source</a></h6>
                                            </div>
                                            <div id="accordion-control-right-group2" class="panel-collapse collapse">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-md-12"> Conetent Goes here...</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="panel panel-white">
                                            <div class="panel-heading sidebarheadings">
                                                <h6 class="panel-title"><a class="collapsed" data-toggle="collapse"
                                                                           data-parent="#accordion-control-right"
                                                                           href="#accordion-control-right-group73"><i
                                                    class="icon-star-full2"></i>&nbsp; Rating</a></h6>
                                            </div>
                                            <div id="accordion-control-right-group73" class="panel-collapse collapse">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-md-12"> Conetent Goes here...</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="panel panel-white">
                                            <div class="panel-heading sidebarheadings">
                                                <h6 class="panel-title"><a class="collapsed" data-toggle="collapse"
                                                                           data-parent="#accordion-control-right"
                                                                           href="#accordion-control-right-group74"><i
                                                    class="icon-calendar"></i>&nbsp; Date Created</a></h6>
                                            </div>
                                            <div id="accordion-control-right-group74" class="panel-collapse collapse">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-md-12"> Conetent Goes here...</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="panel panel-white">
                                            <div class="panel-heading sidebarheadings">
                                                <h6 class="panel-title"><a class="collapsed" data-toggle="collapse"
                                                                           data-parent="#accordion-control-right"
                                                                           href="#accordion-control-right-group83"><i
                                                    class="icon-thumbs-up2"></i>&nbsp; Reviews</a></h6>
                                            </div>
                                            <div id="accordion-control-right-group83" class="panel-collapse collapse in">
                                                <div class="panel-body">
                                                    <div class="row mb20">
                                                        <div class="col-xs-6">
                                                            <div class="checkbox">
                                                                <label>
                                                                    <input type="checkbox" class="control-primary"
                                                                           checked="checked">
                                                                    Total Reviews
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-6">
                                                            <input class="form-control input-sm" type="text" name=""
                                                                   value="20"/> <span class="dash">-</span> <input
                                                            class="form-control input-sm" type="text" name=""
                                                            value="100"/>
                                                        </div>

                                                    </div>
                                                    <div class="row mb20">
                                                        <div class="col-xs-6">
                                                            <div class="checkbox">
                                                                <label>
                                                                    <input type="checkbox" class="control-primary"
                                                                           checked="checked">
                                                                    Positive
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-6">
                                                            <input class="form-control input-sm" type="text" name=""
                                                                   value="20"/> <span class="dash">-</span> <input
                                                            class="form-control input-sm" type="text" name=""
                                                            value="100"/>
                                                        </div>

                                                    </div>
                                                    <div class="row mb20">
                                                        <div class="col-xs-6">
                                                            <div class="checkbox">
                                                                <label>
                                                                    <input type="checkbox" class="control-primary">
                                                                    Neutral
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-6">
                                                            <input class="form-control input-sm" type="text" name=""
                                                                   value="20" disabled/> <span class="dash">-</span> <input
                                                            class="form-control input-sm" type="text" name=""
                                                            value="100" disabled/>
                                                        </div>

                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-6">
                                                            <div class="checkbox">
                                                                <label>
                                                                    <input type="checkbox" class="control-primary"
                                                                           checked="checked">
                                                                    Negative
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-6">
                                                            <input class="form-control input-sm" type="text" name=""
                                                                   value="0"/> <span class="dash">-</span> <input
                                                            class="form-control input-sm" type="text" name=""
                                                            value="10"/>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="dropdown-content-footer">
                                    <button type="button" class="btn dark_btn dropdown-toggle"
                                            style="display: inline-block;"><i
                                        class="icon-filter4"></i><span> &nbsp;  Filter</span></button>
                                    &nbsp; &nbsp;
                                    <a style="display: inline-block;" href="#">Clear All</a>
                                </div>
                            </div>
                        </div>

                        <button type="button" class="btn dark_btn ml20" id="addTagGroup" data-toggle="modal"><i
                            class="icon-plus3"></i><span> &nbsp;  New Tag Group</span></button>
                    </div>
                </div>
            </div>
            <!--&&&&&&&&&&&& PAGE HEADER END &&&&&&&&&&-->
            <!--================================= CONTENT START===============================-->
            <div class="tab-content">
                <!--===========TAB 1===========-->
                <div class="tab-pane active" id="right-icon-tab0">
                    <div class="row">
                        <div class="col-md-12">
                            <div style="margin: 0;" class="panel panel-flat">
                                <div class="panel-heading">
							<span class="pull-left">
								<h6 class="panel-title">{{ oGroupIDs.length }} Tag Groups</h6>
							</span>
                                    <div class="heading-elements">
                                        <div style="display: inline-block; margin: 0;"
                                             class="form-group has-feedback has-feedback-left">
                                            <input class="form-control input-sm cus_search" placeholder="Search by name"
                                                   type="text">
                                            <div class="form-control-feedback">
                                                <i class="icon-search4"></i>
                                            </div>
                                        </div>&nbsp; &nbsp;
                                        <button type="button" class="btn btn-xs btn-default editDataList"><i
                                            class="icon-pencil position-left"></i> Edit
                                        </button>
                                        <button id="deleteTagsGroupBtn" class="btn btn-xs custom_action_box"><i
                                            class="icon-trash position-left"></i> Delete
                                        </button>
                                        <button id="archiveTagsGroupBtn" class="btn btn-xs custom_action_box"><i
                                            class="icon-gear position-left"></i> Archive
                                        </button>
                                    </div>
                                </div>
                                <div class="panel-body p0">

                                    <table v-if="oGroupIDs" class="table datatable-basic datatable-sorting tags">
                                        <thead>
                                        <tr>
                                            <th style="display:none;"></th>
                                            <th style="display:none;"></th>
                                            <th style="display:none; width:30px;" class="nosort editAction">
                                                <label class="custmo_checkbox pull-left"><input type="checkbox"
                                                                                                name="checkAll[]"
                                                                                                class="control-primary"
                                                                                                id="checkAll"><span
                                                    class="custmo_checkmark"></span></label></th>
                                            <th class="width-320"><i class="icon-user"></i>Name</th>
                                            <th><i class="icon-price-tag2"></i>Tags</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr v-for="oGroupID in oGroupIDs">
                                            <td style="display:none;">Contact Created</td>
                                            <td style="display:none;">Contact Id</td>
                                            <td style="display:none;" class="editAction"><label
                                                class="custmo_checkbox pull-left"><input type="checkbox"
                                                                                         name="checkRows[]"
                                                                                         class="checkRows"
                                                                                         :value="oGroupID.id"><span
                                                class="custmo_checkmark"></span></label></td>
                                            <td class="width-320" width="320">
                                                <div class="media-left media-middle"><a class="icons square" href="#"><i
                                                    class="icon-folder2 txt_blue"></i></a></div>
                                                <div class="media-left">
                                                    <div class="pt-3"><a href="#"
                                                                         class="text-default text-semibold editTagGroup"
                                                                         :groupID="oGroupID.id"><span>{{ oGroupID.group_name }}</span></a>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <button v-if="oTag.tagid" v-for="oTag in oTags" class="btn btn-xs btn_white_table pr10 editTagGroupEntity"
                                                        :tagid="oTag.tagid" :groupid="oGroupID.id"><i
                                                    class="icon-primitive-dot txt_dblue"></i> {{ oTag.tag_name }}
                                                </button>

                                                <button class="btn btn-xs btn_white_table addnewtag"
                                                        :data-group-id="oGroupID.id"><i class="icon-plus3"></i>
                                                </button>
                                                <span :id="`addnewtag_${oGroupID.id}`" class="addnewtagcontainer"
                                                      style="display:none;">
													<form method="post" name="frmaddTagGroupEntityModal"
                                                          id="frmaddTagGroupEntityModal" action="javascript:void();"
                                                          style="display:inline-block;">
														@csrf
														<div class="input_box"><input class="form-control input-sm h26"
                                                                                      name="txtTagName"
                                                                                      placeholder="Enter tag name"
                                                                                      type="text"
                                                                                      required="required"></div>
														<button class="btn btn-xs btn_white_table hideaddnewtag"><i
                                                            class="icon-cross2 txt_red"></i></button>
														<button type="submit" class="btn btn-xs btn_white_table"><i
                                                            class="icon-checkmark3 txt_green"></i></button>
														<input type="hidden" name="groupID" :value="oGroupID.id"
                                                               id="tagGroupID"/>
													</form>
												</span>
                                            </td>
                                        </tr>
                                        <!--================================================-->

                                        </tbody>
                                    </table>

                                    <table v-else class="table datatable-basic datatable-sorting">
                                        <thead>
                                        <tr>
                                            <th style="display:none;"></th>
                                            <th style="display:none;"></th>
                                            <th class="width-320"><i class="icon-user"></i>Name</th>
                                            <th><i class="icon-price-tag2"></i>Tags</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td colspan="12">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div style="margin:20px 0px 0;" class="text-center">
                                                            <h5 class="mb-20">
                                                                Looks Like You Donâ€™t Have Any Tag Group <img
                                                                src="/assets/images/smiley.png">
                                                                <br>
                                                                Lets Create Tag Group.
                                                            </h5>
                                                            <button type="button" class="btn dark_btn ml20 addTagGroup"
                                                                    id="addTagGroup" data-toggle="modal"><i
                                                                class="icon-plus3"></i><span> &nbsp;  New Tag Group</span>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td style="display:none;"></td>
                                            <td style="display:none;"></td>
                                            <td style="display:none;"></td>
                                        </tr>
                                        </tbody>
                                    </table>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>

</template>

<script>

    let tkn = $('meta[name="_token"]').attr('content');

    export default {
        title: 'Insight Tags - Brand Boost',
        data() {
            return {
                oTags: {},
                oGroupIDs : {}
            }
        },

        mounted() {
            //getData
            axios.get('/admin/tags/')
                .then(response => {
                    //console.log(response.data);

                    this.oTags = response.data.aTag;
                    this.oGroupIDs = response.data.aGroupID;
                    console.log(this.oTags);
                    console.log(this.oGroupIDs);
                });

            console.log('Component mounted.');
        }

    }
</script>

