<!-- Content area -->
<div class="content">

    <!--&&&&&&&&&&&& PAGE HEADER &&&&&&&&&&-->
    <div class="page_header">
        <div class="row">
            <!--=============Headings & Tabs menu==============-->
            <div class="col-md-3">
                <h3><i class="icon-vcard"></i> &nbsp; Contacts</h3>
                <ul class="nav nav-tabs nav-tabs-bottom">
                    <li class="active"><a href="#right-icon-tab0" data-toggle="tab">Active Contacts</a></li>
                    <li><a href="#right-icon-tab1" data-toggle="tab">Archive</a></li>
                </ul>
            </div>
            <!--=============Button Area Right Side==============-->
            <div class="col-md-9 text-right btn_area">
                <div class="btn-group">
                    <button type="button" class="btn light_btn btn-icon dropdown-toggle" data-toggle="dropdown">
                        <i class="icon-calendar2"></i>&nbsp; &nbsp; Filter Contacts &nbsp; &nbsp; <span
                            class="caret"></span>
                    </button>
                    <div class="dropdown-menu dropdown-content width-320 dropdown-menu-right">
                        <div class="dropdown-content-heading"> Filter
                            <ul class="icons-list">
                                <li><a href="#"><i class="icon-more"></i></a></li>
                            </ul>
                        </div>
                        <div class="">
                            <div
                                class="panel-group panel-group-control panel-group-control-right content-group-lg filter_campaign"
                                id="accordion-control-right">
                                <div class="panel panel-white">
                                    <div class="panel-heading sidebarheadings active">
                                        <h6 class="panel-title"><a data-toggle="collapse"
                                                                   data-parent="#accordion-control-right"
                                                                   href="#accordion-control-right-group1"><i
                                                    class="icon-star-empty3"></i>&nbsp;Campaign Type</a></h6>
                                    </div>
                                    <div id="accordion-control-right-group1" class="panel-collapse collapse">
                                        <div class="panel-body">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    Most startups fail. But many of those failures are preventable. The
                                                    Lean Startup is a new approach being adopted across the globe,
                                                    changing the way companies are built and new products are launched.
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-white">
                                    <div class="panel-heading sidebarheadings">
                                        <h6 class="panel-title"><a class="collapsed" data-toggle="collapse"
                                                                   data-parent="#accordion-control-right"
                                                                   href="#accordion-control-right-group2"><i
                                                    class="icon-arrow-up-left2"></i>&nbsp; Source</a></h6>
                                    </div>
                                    <div id="accordion-control-right-group2" class="panel-collapse collapse">
                                        <div class="panel-body">
                                            <div class="row">
                                                <div class="col-md-12"> Conetent Goes here...</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-white">
                                    <div class="panel-heading sidebarheadings">
                                        <h6 class="panel-title"><a class="collapsed" data-toggle="collapse"
                                                                   data-parent="#accordion-control-right"
                                                                   href="#accordion-control-right-group73"><i
                                                    class="icon-star-full2"></i>&nbsp; Rating</a></h6>
                                    </div>
                                    <div id="accordion-control-right-group73" class="panel-collapse collapse">
                                        <div class="panel-body">
                                            <div class="row">
                                                <div class="col-md-12"> Conetent Goes here...</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-white">
                                    <div class="panel-heading sidebarheadings">
                                        <h6 class="panel-title"><a class="collapsed" data-toggle="collapse"
                                                                   data-parent="#accordion-control-right"
                                                                   href="#accordion-control-right-group74"><i
                                                    class="icon-calendar"></i>&nbsp; Date Created</a></h6>
                                    </div>
                                    <div id="accordion-control-right-group74" class="panel-collapse collapse">
                                        <div class="panel-body">
                                            <div class="row">
                                                <div class="col-md-12"> Conetent Goes here...</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-white">
                                    <div class="panel-heading sidebarheadings">
                                        <h6 class="panel-title"><a class="collapsed" data-toggle="collapse"
                                                                   data-parent="#accordion-control-right"
                                                                   href="#accordion-control-right-group83"><i
                                                    class="icon-thumbs-up2"></i>&nbsp; Reviews</a></h6>
                                    </div>
                                    <div id="accordion-control-right-group83" class="panel-collapse collapse in">
                                        <div class="panel-body">
                                            <div class="row mb20">
                                                <div class="col-xs-6">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" class="control-primary"
                                                                   checked="checked">
                                                            Total Reviews
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-xs-6">
                                                    <input class="form-control input-sm" type="text" name=""
                                                           value="20"/> <span class="dash">-</span> <input
                                                        class="form-control input-sm" type="text" name="" value="100"/>
                                                </div>

                                            </div>
                                            <div class="row mb20">
                                                <div class="col-xs-6">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" class="control-primary"
                                                                   checked="checked">
                                                            Positive
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-xs-6">
                                                    <input class="form-control input-sm" type="text" name=""
                                                           value="20"/> <span class="dash">-</span> <input
                                                        class="form-control input-sm" type="text" name="" value="100"/>
                                                </div>

                                            </div>
                                            <div class="row mb20">
                                                <div class="col-xs-6">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" class="control-primary">
                                                            Neutral
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-xs-6">
                                                    <input class="form-control input-sm" type="text" name="" value="20"
                                                           disabled/> <span class="dash">-</span> <input
                                                        class="form-control input-sm" type="text" name="" value="100"
                                                        disabled/>
                                                </div>

                                            </div>
                                            <div class="row">
                                                <div class="col-xs-6">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" class="control-primary"
                                                                   checked="checked">
                                                            Negative
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-xs-6">
                                                    <input class="form-control input-sm" type="text" name="" value="0"/>
                                                    <span class="dash">-</span> <input class="form-control input-sm"
                                                                                       type="text" name="" value="10"/>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="dropdown-content-footer">
                            <button type="button" class="btn dark_btn dropdown-toggle" style="display: inline-block;"><i
                                    class="icon-filter4"></i><span> &nbsp;  Filter</span></button>
                            &nbsp; &nbsp;
                            <a style="display: inline-block;" href="#">Clear All</a>
                        </div>
                    </div>
                </div>
                <button type="button" class="btn dark_btn ml20" data-toggle="modal" data-target="#addContact"><i
                        class="icon-plus3"></i><span> &nbsp;  Add Contact</span></button>

                <button data-toggle="modal" data-target="#importCSV" type="button" class="btn dark_btn ml20"><i
                        class="icon-make-group position-left"></i> Import Contact
                </button>

                <form method="post" action="{{ base_url() }}admin/contacts/exportCSV" enctype="multipart/form-data"
                      style="float:right;">
                    <input type="hidden" name="list_id" id="list_id" value="{{ $list_id }}">
                    <button type="submit" title="Export" class="btn dark_btn ml20" id="exportButton"><i
                            class="icon-make-group position-left"></i> Export Contact
                    </button>
                </form>
            </div>
        </div>
    </div>
    <!--&&&&&&&&&&&& PAGE HEADER END &&&&&&&&&&-->

    <div class="tab-content">
        <!--===========TAB 1===========-->
        <div class="tab-pane active" id="right-icon-tab0">
            <div class="row">
                <div class="col-lg-12">
                    <!-- Marketing campaigns -->
                    <div class="panel panel-flat">
                        <div class="panel-heading">
                            <h6 class="panel-title">{{ count($oContacts) }} Contacts</h6>
                            <div class="heading-elements">
                                <div style="display: inline-block; margin: 0;"
                                     class="form-group has-feedback has-feedback-left">
                                    <input class="form-control input-sm cus_search" placeholder="Search by name"
                                           type="text">
                                    <div class="form-control-feedback">
                                        <i class="icon-search4"></i>
                                    </div>
                                </div>&nbsp; &nbsp;

                                <button type="button" class="btn btn-xs btn-default editDataList"><i
                                        class="icon-pencil position-left"></i> Edit
                                </button>
                                <button id="deleteContactsBtn" class="btn btn-xs custom_action_box"><i
                                        class="icon-trash position-left m0"></i></button>
                                <button id="archiveContactsBtn" class="btn btn-xs custom_action_box"><i
                                        class="icon-gear position-left m0"></i></button>
                            </div>
                        </div>

                        <div class="panel-body p0">
                            <table class="table datatable-basic datatable-sorting">
                                <thead>
                                <tr>
                                    <th style="display: none;"></th>
                                    <th style="display: none;"></th>
                                    <th style="display: none;" class="nosort editAction"><label
                                            class="custmo_checkbox pull-left"><input type="checkbox" name="checkAll[]"
                                                                                     class="control-primary"
                                                                                     id="checkAll"><span
                                                class="custmo_checkmark"></span></label></th>
                                    <th><i class="icon-user"></i> Name</th>
                                    <th><i class="icon-iphone"></i> Phone</th>
                                    <th><i class="icon-calendar"></i> Created</th>
                                    <th><i class="icon-hash"></i> Source</th>
                                    <th><i class="icon-atom"></i> Social</th>
                                    <th><i class="icon-price-tag2"></i> Tags</th>
                                    <th class="text-center"><i class="fa fa-dot-circle-o"></i> Status</th>
                                    <th class="text-center nosort"><i class="fa fa-dot-circle-o"></i> Action</th>
                                </tr>
                                </thead>
                                <tbody>
                                @php
                                    $inc = 1;
                                    foreach ($oContacts as $oContact) {
                                @endphp
                                <tr id="append-{{ $oContact->id }}" class="selectedClass">
                                    <td style="display: none;">{{ date('m/d/Y', strtotime($oContact->created)) }}</td>
                                    <td style="display: none;">{{ $oContact->id }}</td>
                                    <td style="display: none;" class="editAction"><label
                                            class="custmo_checkbox pull-left"><input type="checkbox" name="checkRows[]"
                                                                                     class="checkRows"
                                                                                     value="{{ $oContact->id }}"
                                                                                     id="chk{{ $oContact->id }}"><span
                                                class="custmo_checkmark"></span></label></td>
                                    <td>
                                        <div class="media-left media-middle"><a href="#"><img
                                                    src="{{ base_url() }}assets/images/userp.png"
                                                    class="img-circle img-xs" alt=""></a></div>
                                        <div class="media-left">
                                            <div class="pt-5"><a
                                                    href="{{ base_url() }}admin/subscriber/activities/{{ $oContact->id }}"
                                                    target="_blank"
                                                    class="text-default text-semibold"><span>{{ $oContact->firstname }} {{ $oContact->lastname }}</span>
                                                    <img class="flags"
                                                         src="{{ base_url() }}assets/images/flags/us.png"/></a></div>
                                            <div class="text-muted text-size-small">{{ $oContact->email }}</div>

                                        </div>
                                    </td>

                                    <td>
                                        <div class="media-left">
                                            <div class="pt-5"><a href="#"
                                                                 class="text-default text-semibold">{{ $oContact->phone == '' ? '<span style="color:#999999">Phone Unavailable</span>' : $oContact->phone }}</a>
                                            </div>
                                            <div class="text-muted text-size-small">Chat</div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="media-left">
                                            <div class="pt-5"><a href="#"
                                                                 class="text-default text-semibold">{{ date('d M Y', strtotime($oContact->created)) }}</a>
                                            </div>
                                            <div
                                                class="text-muted text-size-small">{{ date('h:i A', strtotime($oContact->created)) }}</div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="media-left media-middle"><a class="icons" href="#"><i
                                                    class="icon-envelop txt_blue"></i></a></div>
                                        <div class="media-left">
                                            <div class="pt-5"><a href="#" class="text-default text-semibold">Email</a>
                                            </div>
                                            <div class="text-muted text-size-small">Form #183</div>
                                        </div>
                                    </td>
                                    <td>
                                        <a href="{{ $oContact->socialProfile }}" target="_blank">
                                            <button class="btn btn-xs btn_white_table"><i
                                                    class="icon-twitter txt_lblue"></i></button>
                                        </a>
                                        <a href="{{ $oContact->socialProfile }}" target="_blank">
                                            <button class="btn btn-xs btn_white_table"><i
                                                    class="icon-facebook txt_dblue"></i></button>
                                        </a>
                                        <a href="{{ $oContact->socialProfile }}" target="_blank">
                                            <button class="btn btn-xs btn_white_table"><i
                                                    class="icon-phone2 txt_green"></i></button>
                                        </a>
                                        <a href="{{ $oContact->socialProfile }}" target="_blank">
                                            <button class="btn btn-xs btn_white_table"><i
                                                    class="icon-envelop txt_blue"></i></button>
                                        </a>
                                    </td>
                                    <td>
                                        <div class="tdropdown">
                                            <button type="button" class="btn btn-xs btn_white_table dropdown-toggle "
                                                    data-toggle="dropdown"><i class="icon-hash"></i> 4 Tags &nbsp; <span
                                                    class="caret"></span></button>
                                            <ul class="dropdown-menu dropdown-menu-right width-200">
                                                <li><a href="#"><i class="icon-menu7"></i> Action</a>
                                                </li>
                                                <li><a href="#"><i class="icon-screen-full"></i> Another action</a>
                                                </li>
                                                <li><a href="#"><i class="icon-mail5"></i> One more action</a>
                                                </li>
                                                <li class="divider"></li>
                                                <li><a href="#"><i class="icon-gear"></i> Separated line</a></li>
                                            </ul>
                                        </div>
                                        <button class="btn btn-xs btn_white_table"><i class="icon-plus3"></i></button>
                                    </td>

                                    <td class="text-center">
                                        <button
                                            class="btn btn-xs btn_white_table pr10">{!! $oContact->status == 1 ? '<i class="icon-primitive-dot txt_green"></i> Active' : '<i class="icon-primitive-dot txt_red"></i> Inactive' !!}</button>
                                    </td>


                                    <td class="text-center">
                                        <div class="tdropdown">
                                            <button type="button"
                                                    class="btn btn-xs btn_white_table ml20 dropdown-toggle"
                                                    data-toggle="dropdown"><i class="icon-more2 txt_blue"></i></button>
                                            <ul class="dropdown-menu dropdown-menu-right width-200">
                                                <li><a subscriberId='{{ $oContact->id }}' change_status='2'
                                                       class='chg_status'><i class='icon-file-locked'></i> Move To
                                                        Archive</a></li>
                                                @if ($oContact->status == 1)
                                                    <li><a subscriberId='{{ $oContact->id }}' change_status='0'
                                                           class='chg_status'><i class='icon-file-locked'></i>
                                                            Inacive</a></li>
                                                @else
                                                    <li><a subscriberId='{{ $oContact->id }}' change_status='1'
                                                           class='chg_status'><i class='icon-file-locked'></i>
                                                            Active</a></li>
                                                @endif
                                                <li><a href="javascript:void(0);" class="editSubscriber"
                                                       subscriberid="{{ $oContact->id }}"><i class="icon-pencil"></i>
                                                        Edit</a></li>

                                                <li><a class="deleteSubscriber" href="javascript:void(0);"
                                                       subscriberid="{{ $oContact->id }}"><i class="icon-trash"></i>
                                                        Delete</a></li>
                                            </ul>
                                        </div>


                                    </td>
                                </tr>
                                @php
                                    $inc++;
                                }
                                @endphp
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane" id="right-icon-tab1">
            <div class="row">
                <div class="col-lg-12">
                    <!-- Marketing campaigns -->
                    <div class="panel panel-flat">
                        <div class="panel-heading">
                            <h6 class="panel-title">{{ count($archiveContacts) }} Contacts</h6>
                            <div class="heading-elements">
                                <div style="display: inline-block; margin: 0;"
                                     class="form-group has-feedback has-feedback-left">
                                    <input class="form-control input-sm cus_search" placeholder="Search by name"
                                           type="text">
                                    <div class="form-control-feedback">
                                        <i class="icon-search4"></i>
                                    </div>
                                </div>&nbsp; &nbsp;

                                <button type="button" class="btn btn-xs btn-default editArchiveDataList"><i
                                        class="icon-pencil position-left"></i> Edit
                                </button>
                                <button id="deleteArchiveContacts"
                                        class="btn btn-danger btn-xs lgrey custom_action_box_archive">Delete
                                </button>
                            </div>
                        </div>

                        <div class="panel-body p0">
                            <table class="table datatable-basic datatable-sorting">
                                <thead>

                                <tr>
                                    <th style="display: none;"></th>
                                    <th style="display: none;"></th>
                                    <th style="display: none;" class="nosort editArchiveAction"><label
                                            class="custmo_checkbox pull-left"><input type="checkbox" name="checkAll[]"
                                                                                     class="" id="checkAllArchive"><span
                                                class="custmo_checkmark"></span></label></th>
                                    <th><i class="icon-user"></i>Name</th>
                                    <th><i class="icon-display"></i>Phone</th>
                                    <th><i class="icon-calendar"></i>Created</th>
                                    <th><i class="icon-hash"></i>Source</th>
                                    <th><i class="icon-atom"></i>Social</th>
                                    <th><i class="icon-price-tag2"></i>Tags</th>
                                    <th class="text-center"><i class="fa fa-dot-circle-o"></i>Status</th>
                                    <th class="text-center nosort"><i class="fa fa-dot-circle-o"></i>Action</th>
                                </tr>
                                </thead>
                                <tbody>
                                @php
                                    $inc = 1;
                                    foreach ($archiveContacts as $oContact) {
                                @endphp
                                <tr id="append-{{ $oContact->id }}" class="selectedClass">
                                    <td style="display: none;">{{ date('m/d/Y', strtotime($oContact->created)) }}</td>
                                    <td style="display: none;">{{ $oContact->id }}</td>
                                    <td style="display: none;" class="editArchiveAction"><label
                                            class="custmo_checkbox pull-left"><input type="checkbox" name="checkRows[]"
                                                                                     class="checkRowsArchive"
                                                                                     value="{{ $oContact->id }}"
                                                                                     id="chk{{ $oContact->id }}"><span
                                                class="custmo_checkmark"></span></label></td>
                                    <td>
                                        <div class="media-left media-middle"><a href="#"><img
                                                    src="http://brandboost.io/admin_new/images/userp.png"
                                                    class="img-circle img-xs" alt=""></a></div>


                                        <div class="media-left">
                                            <div class="pt-5"><a
                                                    href="{{ base_url() }}admin/subscriber/activities/{{ $oContact->id }}"
                                                    target="_blank"
                                                    class="text-default text-semibold"><span>{{ $oContact->firstname }} {{ $oContact->lastname }}</span>
                                                    <img class="flags"
                                                         src="{{ base_url() }}assets/images/flags/us.png"/></a></div>
                                            <div class="text-muted text-size-small">{{ $oContact->email }}</div>

                                        </div>
                                    </td>

                                    <td>
                                        <div class="media-left">
                                            <div class="pt-5"><a href="#"
                                                                 class="text-default text-semibold">{{ $oContact->phone == '' ? '<span style="color:#999999">Phone Unavailable</span>' : $oContact->phone }}</a>
                                            </div>
                                            <div class="text-muted text-size-small">Chat</div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="media-left">
                                            <div class="pt-5"><a href="#"
                                                                 class="text-default text-semibold">{{ date('d M Y', strtotime($oContact->created)) }}</a>
                                            </div>
                                            <div
                                                class="text-muted text-size-small">{{ date('h:i A', strtotime($oContact->created)) }}</div>
                                        </div>

                                    </td>
                                    <td>
                                        <div class="media-left media-middle"><a class="icons" href="#"><i
                                                    class="icon-envelop txt_blue"></i></a></div>
                                        <div class="media-left">
                                            <div class="pt-5"><a href="#" class="text-default text-semibold">Email</a>
                                            </div>
                                            <div class="text-muted text-size-small">Form #183</div>
                                        </div>
                                    </td>
                                    <td>
                                        <a href="{{ $oContact->socialProfile }}" target="_blank">
                                            <button class="btn btn-xs btn_white_table"><i
                                                    class="icon-twitter txt_lblue"></i></button>
                                        </a>
                                        <a href="{{ $oContact->socialProfile }}" target="_blank">
                                            <button class="btn btn-xs btn_white_table"><i
                                                    class="icon-facebook txt_dblue"></i></button>
                                        </a>
                                        <a href="{{ $oContact->socialProfile }}" target="_blank">
                                            <button class="btn btn-xs btn_white_table"><i
                                                    class="icon-phone2 txt_green"></i></button>
                                        </a>
                                        <a href="{{ $oContact->socialProfile }}" target="_blank">
                                            <button class="btn btn-xs btn_white_table"><i
                                                    class="icon-envelop txt_blue"></i></button>
                                        </a>
                                    </td>
                                    <td>
                                        <div class="tdropdown">
                                            <button type="button" class="btn btn-xs btn_white_table dropdown-toggle "
                                                    data-toggle="dropdown"><i class="icon-hash"></i> 4 Tags &nbsp; <span
                                                    class="caret"></span></button>
                                            <ul class="dropdown-menu dropdown-menu-right width-200">
                                                <li><a href="#"><i class="icon-menu7"></i> Action</a>
                                                </li>
                                                <li><a href="#"><i class="icon-screen-full"></i> Another action</a>
                                                </li>
                                                <li><a href="#"><i class="icon-mail5"></i> One more action</a>
                                                </li>
                                                <li class="divider"></li>
                                                <li><a href="#"><i class="icon-gear"></i> Separated line</a></li>
                                            </ul>
                                        </div>
                                        <button class="btn btn-xs btn_white_table"><i class="icon-plus3"></i></button>
                                    </td>

                                    <td class="text-center">
                                        <button
                                            class="btn btn-xs btn_white_table pr10">{!! $oContact->status == 1 ? '<i class="icon-primitive-dot txt_green"></i> Active' : '<i class="icon-primitive-dot txt_red"></i> Archive' !!}</button>
                                    </td>


                                    <td class="text-center">
                                        <div class="tdropdown">
                                            <button type="button"
                                                    class="btn btn-xs btn_white_table ml20 dropdown-toggle"
                                                    data-toggle="dropdown"><i class="icon-more2 txt_blue"></i></button>
                                            <ul class="dropdown-menu dropdown-menu-right width-200">
                                                <li><a subscriberId='{{ $oContact->id }}' change_status='1'
                                                       class='chg_status'><i class='icon-file-locked'></i> Move To
                                                        Active Contact</a></li>
                                                <li><a href="javascript:void(0);" class="editSubscriber"
                                                       subscriberid="{{ $oContact->id }}"><i class="icon-pencil"></i>
                                                        Edit</a></li>

                                                <li><a class="deleteSubscriber" href="javascript:void(0);"
                                                       subscriberid="{{ $oContact->id }}"><i class="icon-trash"></i>
                                                        Delete</a></li>
                                            </ul>
                                        </div>


                                    </td>
                                </tr>
                                @php
                                    $inc++;
                                }
                                @endphp
                                </tbody>
                            </table>
                        </div>
                    </div>


                </div>
                <!-- <div align="right" id="pagination_link"></div> -->
            </div>
        </div>

    </div>
</div>

<!-- /content area -->

<!--=====================================Add Contact Modal ================================-->
<div id="addContact" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <form method="post" class="form-horizontal" id="addSubscriberDataForm">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h5 class="modal-title">Add Contact</h5>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">First Name</label>
                                <div class="">
                                    <input name="firstname" id="firstname" class="form-control" type="text" required>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Last Name</label>
                                <div class="">
                                    <input name="lastname" id="lastname" class="form-control" value="" type="text"
                                           required>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Email</label>
                                <div class="">
                                    <input name="email" id="email" value="" class="form-control" type="text" required>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Phone</label>
                                <div class="">
                                    <input name="phone" id="phone" value="" class="form-control" type="text" required>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label">Gender</label>
                                <div class="">
                                    <select class="form-control" name="gender" id="gender">
                                        <option>Select Gender</option>
                                        <option value="male">Male</option>
                                        <option value="female">Female</option>
                                    </select>
                                </div>
                            </div>
                        </div>


                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Country</label>
                                <div class="">
                                    <select class="form-control" name="countryCode" id="countryCode">
                                        <option value="">Select Country</option>
                                        @php
                                            $countriesList = $this->mCountry->getCountriesList();
                                            foreach ($countriesList as $countryName) {
                                        @endphp
                                        <option
                                            value="{{ $countryName->country_code }}">{{ $countryName->name }}</option>
                                        @php
                                            }
                                        @endphp
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">City</label>
                                <div class="">
                                    <input name="cityName" id="cityName" value="" class="form-control" type="text"
                                           required>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">State</label>
                                <div class="">
                                    <input name="stateName" id="stateName" value="" class="form-control" type="text"
                                           required>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Zip Code</label>
                                <div class="">
                                    <input name="zipCode" id="zipCode" value="" class="form-control" type="text"
                                           required>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label">Social Profile</label>
                                <div class="">
                                    <input name="socialProfile" id="socialProfile" value="" class="form-control"
                                           type="text" required>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label">Tags</label>
                                <div class="">
                                    <input name="tags" id="tags" value="" class="form-control" type="text" required>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
                <div class="modal-footer p40">
                    <button class="btn btn-link" data-dismiss="modal">Cancel</button>
                    <button type="submit" id="addButton" class="btn dark_btn">Create</button>
                </div>
            </form>
        </div>
    </div>
</div>


<div id="addSubscriber" class="modal fade">
    <div class="modal-dialog">

        <div class="modal-content">
            <form method="post" class="form-horizontal" id="addSubscriberDataForm">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h5 class="modal-title"><i class="icon-menu7"></i> &nbsp;Add Subscriber</h5>
                </div>
                <div class="modal-body">

                    <div class="alert-danger"
                         style="margin-bottom:10px;">{{ $this->session->userdata('error_message') }}
                        {{ validation_errors() }}</div>

                    <div class="col-md-12">

                        <div class="form-group">
                            <label class="control-label">First Name</label>
                            <div class="">
                                <input name="firstname" id="firstname" class="form-control" type="text" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label">Last Name</label>
                            <div class="">
                                <input name="lastname" id="lastname" class="form-control" value="" type="text" required>
                            </div>
                        </div>


                        <div class="form-group">
                            <label class="control-label">Email</label>
                            <div class="">
                                <input name="email" id="email" value="" class="form-control" type="text" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label">Phone</label>
                            <div class="">
                                <input name="phone" id="phone" value="" class="form-control" type="text">
                            </div>
                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-link" data-dismiss="modal"><i class="icon-cross"></i> Close</button>
                    <button type="submit" id="addButton" class="btn btn-primary"><i class="icon-check"></i> Add</button>
                </div>
            </form>
        </div>
    </div>
</div>


<div id="editSubscriberModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <form method="post" class="form-horizontal" id="updateSubscriberDataForm">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h5 class="modal-title">Update Contact</h5>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">First Name</label>
                                <div class="">
                                    <input name="edit_firstname" id="edit_firstname" class="form-control" type="text"
                                           required>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Last Name</label>
                                <div class="">
                                    <input name="edit_lastname" id="edit_lastname" class="form-control" value=""
                                           type="text" required>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Email</label>
                                <div class="">
                                    <input name="edit_email" id="edit_email" value="" class="form-control" type="text"
                                           required>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Phone</label>
                                <div class="">
                                    <input name="edit_phone" id="edit_phone" value="" class="form-control" type="text"
                                           required>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label">Gender</label>
                                <div class="">
                                    <select class="form-control" name="edit_gender" id="edit_gender">
                                        <option>Select Gender</option>
                                        <option value="male">Male</option>
                                        <option value="female">Female</option>
                                    </select>
                                </div>
                            </div>
                        </div>


                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Country</label>
                                <div class="">
                                    <select class="form-control" name="edit_countryCode" id="edit_countryCode">
                                        <option value="">Select Country</option>
                                        @php
                                            $countriesList = $this->mCountry->getCountriesList();
                                            foreach ($countriesList as $countryName) {
                                        @endphp
                                        <option
                                            value="{{ $countryName->country_code }}">{{ $countryName->name }}</option>
                                        @php
                                            }
                                        @endphp
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">City</label>
                                <div class="">
                                    <input name="edit_cityName" id="edit_cityName" value="" class="form-control"
                                           type="text" required>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">State</label>
                                <div class="">
                                    <input name="edit_stateName" id="edit_stateName" value="" class="form-control"
                                           type="text" required>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Zip Code</label>
                                <div class="">
                                    <input name="edit_zipCode" id="edit_zipCode" value="" class="form-control"
                                           type="text" required>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label">Social Profile</label>
                                <div class="">
                                    <input name="edit_socialProfile" id="edit_socialProfile" value=""
                                           class="form-control" type="text" required>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label">Tags</label>
                                <div class="">
                                    <input name="edit_tags" id="edit_tags" value="" class="form-control" type="text"
                                           required>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
                <div class="modal-footer p40">
                    <input type="hidden" name="edit_subscriberID" id="edit_subscriberID" value="">
                    <button class="btn btn-link" data-dismiss="modal"><i class="icon-cross"></i> Close</button>
                    <button type="submit" id="updateButton" class="btn btn-primary"><i class="icon-check"></i> Update
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>


<!-- <div id="editSubscriberModal" class="modal fade">
    <div class="modal-dialog">

        <div class="modal-content">
            <form method="post" class="form-horizontal" id="updateSubscriberDataForm" >
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h5 class="modal-title"><i class="icon-menu7"></i> &nbsp;Update Subscriber</h5>
                                </div>
                <div class="modal-body">

                    <div class="alert-danger" style="margin-bottom:10px;">{{ $this->session->userdata('error_message') }}
{{ validation_errors() }}</div>

                    <div class="col-md-12">

                        <div class="form-group">
                            <label class="control-label">First Name</label>
                            <div>
                                <input name="edit_firstname" id="edit_firstname" class="form-control" type="text" required>
                                                        </div>
                                                </div>

                        <div class="form-group">
                            <label class="control-label">Last Name</label>
                            <div>
                                <input name="edit_lastname" id="edit_lastname" class="form-control" value="" type="text" required>
                                                        </div>
                                                </div>


                        <div class="form-group">
                            <label class="control-label">Email</label>
                            <div>
                                <input name="edit_email" id="edit_email" value="" class="form-control" type="text" readonly="readonly" required>
                                                        </div>
                                                </div>

                        <div class="form-group">
                            <label class="control-label">Phone</label>
                            <div>
                                <input name="edit_phone" id="edit_phone" value="" class="form-control" type="text" required>
                                                        </div>
                                                </div>

                                        </div>

                                </div>
                <div class="modal-footer">
                    <input type="hidden" name="edit_subscriberID" id="edit_subscriberID" value="">
                    <button class="btn btn-link" data-dismiss="modal"><i class="icon-cross"></i> Close</button>
                    <button type="submit" id="updateButton" class="btn btn-primary"><i class="icon-check"></i> Update</button>
                                </div>
                        </form>
                </div>
        </div>
</div> -->


<div id="importCSV" class="modal modalpopup fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <form method="post" class="form-horizontal" action="{{ base_url() }}admin/contacts/importcsv"
                  enctype="multipart/form-data">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h5 class="modal-title"><i class="icon-menu7"></i> &nbsp;Import Subscriber CSV</h5>
                </div>
                <div class="modal-body">

                    <div class="alert-danger"
                         style="margin-bottom:10px;">{{ $this->session->userdata('error_message') }}
                        {{ validation_errors() }}</div>

                    <div class="form-group">
                        <label class="control-label col-lg-3">Import CSV</label>
                        <div class="col-lg-9">
                            <input type="file" name="userfile" style="margin-top:3px;"
                                   accept=".csv, application/vnd.ms-excel" required>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-link" data-dismiss="modal"><i class="icon-cross"></i> Close</button>
                    <button type="submit" class="btn btn-primary"><i class="icon-check"></i> Import</button>

                </div>
            </form>
        </div>
    </div>
</div>

<script>

    $(document).ready(function () {
        $(document).on('change', '#checkAll', function () {
            if (false == $(this).prop("checked")) {
                $(".checkRows").prop('checked', false);
                $(".selectedClass").removeClass('success');
                $('.custom_action_box').hide();
            } else {
                $(".checkRows").prop('checked', true);
                $(".selectedClass").addClass('success');
                $('.custom_action_box').show();
            }
        });

        $(document).on('click', '.checkRows', function () {
            var inc = 0;
            var rowId = $(this).val();
            if (false == $(this).prop("checked")) {
                $('#append-' + rowId).removeClass('success');
            } else {
                $('#append-' + rowId).addClass('success');
            }

            $('.checkRows:checkbox:checked').each(function (i) {
                inc++;
            });

            if (inc == 0) {
                $('.custom_action_box').hide();
            } else {
                $('.custom_action_box').show();
            }

            var numberOfChecked = $('.checkRows:checkbox:checked').length;
            var totalCheckboxes = $('.checkRows:checkbox').length;
            if (totalCheckboxes > numberOfChecked) {
                $('#checkAll').prop('checked', false);
            }

            if (totalCheckboxes == numberOfChecked) {
                $('#checkAll').prop('checked', true);
            }
        });

        $(document).on('change', '#checkAllArchive', function () {
            if (false == $(this).prop("checked")) {
                $(".checkRowsArchive").prop('checked', false);
                $(".selectedClass").removeClass('success');
                $('.custom_action_box_archive').hide();
            } else {
                $(".checkRowsArchive").prop('checked', true);
                $(".selectedClass").addClass('success');
                $('.custom_action_box_archive').show();
            }
        });

        $(document).on('click', '.checkRowsArchive', function () {
            var inc = 0;
            var rowId = $(this).val();
            if (false == $(this).prop("checked")) {
                $('#append-' + rowId).removeClass('success');
            } else {
                $('#append-' + rowId).addClass('success');
            }

            $('.checkRowsArchive:checkbox:checked').each(function (i) {
                inc++;
            });

            if (inc == 0) {
                $('.custom_action_box_archive').hide();
            } else {
                $('.custom_action_box_archive').show();
            }

            var numberOfChecked = $('.checkRowsArchive:checkbox:checked').length;
            var totalCheckboxes = $('.checkRowsArchive:checkbox').length;
            if (totalCheckboxes > numberOfChecked) {
                $('#checkAllArchive').prop('checked', false);
            }

            if (totalCheckboxes == numberOfChecked) {
                $('#checkAllArchive').prop('checked', true);
            }
        });

        $(document).on('click', '#deleteArchiveContacts', function () {
            var val = [];
            $('.checkRowsArchive:checkbox:checked').each(function (i) {
                val[i] = $(this).val();
            });
            if (val.length === 0) {
                alert('Please select a row.')
            } else {
                swal({
                        title: "Are you sure? You want to delete this record!",
                        text: "You will not be able to recover this record!",
                        type: "warning",
                        showCancelButton: true,
                        confirmButtonColor: "#EF5350",
                        confirmButtonText: "Yes, delete it!",
                        cancelButtonText: "No, cancel pls!",
                        closeOnConfirm: true,
                        closeOnCancel: true
                    },
                    function (isConfirm) {
                        if (isConfirm) {
                            $('.overlaynew').show();
                            $.ajax({
                                url: "{{ base_url('admin/contacts/deleteBulkContacts') }}",
                                type: "POST",
                                data: {multipal_record_id: val},
                                dataType: "json",
                                success: function (data) {
                                    if (data.status == 'success') {
                                        $('.overlaynew').hide();
                                        window.location.href = window.location.href;
                                    } else {
                                        $('.overlaynew').hide();
                                        alertMessage('Error: Some thing wrong!');
                                    }
                                }
                            });
                        }
                    });
            }
        });

        $(document).on('click', '#deleteContactsBtn', function () {
            var val = [];
            $('.checkRows:checkbox:checked').each(function (i) {
                val[i] = $(this).val();
            });
            if (val.length === 0) {
                alert('Please select a row.')
            } else {
                swal({
                        title: "Are you sure? You want to delete this record!",
                        text: "You will not be able to recover this record!",
                        type: "warning",
                        showCancelButton: true,
                        confirmButtonColor: "#EF5350",
                        confirmButtonText: "Yes, delete it!",
                        cancelButtonText: "No, cancel pls!",
                        closeOnConfirm: true,
                        closeOnCancel: true
                    },
                    function (isConfirm) {
                        if (isConfirm) {
                            $('.overlaynew').show();
                            $.ajax({
                                url: "{{ base_url('admin/contacts/deleteBulkContacts') }}",
                                type: "POST",
                                data: {multipal_record_id: val},
                                dataType: "json",
                                success: function (data) {
                                    if (data.status == 'success') {
                                        $('.overlaynew').hide();
                                        window.location.href = window.location.href;
                                    } else {
                                        $('.overlaynew').hide();
                                        alertMessage('Error: Some thing wrong!');
                                    }
                                }
                            });
                        }
                    });
            }
        });

        $(document).on('click', '#archiveContactsBtn', function () {
            var val = [];
            $('.checkRows:checkbox:checked').each(function (i) {
                val[i] = $(this).val();
            });
            if (val.length === 0) {
                alert('Please select a row.')
            } else {
                swal({
                        title: "Are you sure? You want to archive this record!",
                        text: "You will not be able to recover this record!",
                        type: "warning",
                        showCancelButton: true,
                        confirmButtonColor: "#EF5350",
                        confirmButtonText: "Yes, archive it!",
                        cancelButtonText: "No, cancel pls!",
                        closeOnConfirm: true,
                        closeOnCancel: true
                    },
                    function (isConfirm) {
                        if (isConfirm) {
                            $('.overlaynew').show();
                            $.ajax({
                                url: "{{ base_url('admin/contacts/archiveBulkContacts') }}",
                                type: "POST",
                                data: {multipal_record_id: val},
                                dataType: "json",
                                success: function (data) {
                                    if (data.status == 'success') {
                                        $('.overlaynew').hide();
                                        window.location.href = window.location.href;
                                    } else {
                                        $('.overlaynew').hide();
                                        alertMessage('Error: Some thing wrong!');
                                    }
                                }
                            });
                        }
                    });
            }
        });

        $(document).on('click', ".deleteContact", function () {
            var delId = $(this).attr('delId');
            var val = [delId];
            if (val.length === 0) {
                alert('Please select a row.')
            } else {
                swal({
                        title: "Are you sure? You want to delete this record!",
                        text: "You will not be able to recover this record!",
                        type: "warning",
                        showCancelButton: true,
                        confirmButtonColor: "#EF5350",
                        confirmButtonText: "Yes, delete it!",
                        cancelButtonText: "No, cancel pls!",
                        closeOnConfirm: true,
                        closeOnCancel: true
                    },
                    function (isConfirm) {
                        if (isConfirm) {
                            /*$('.overlaynew').show();
                             $.ajax({
                             url: "{{ base_url('admin/users/deleteUsersContact') }}",
                                 type: "POST",
                                 data: {multipal_record_id: val},
                                 dataType: "json",
                                 success: function (data) {
                                 if (data.status == 'success') {
                                 $('.overlaynew').hide();
                                 window.location.href = window.location.href;
                                 }else{
                                 $('.overlaynew').hide();
                                 alertMessage('Error: Some thing wrong!');
                                 }
                                 }
                                 });*/
                        }
                    });
            }

        });


        $(document).on('click', '.deleteSubscriber', function () {
            var subscriberID = $(this).attr('subscriberid');
            swal({
                    title: "Are you sure? You want to delete this record!",
                    text: "You will not be able to recover this record!",
                    type: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#EF5350",
                    confirmButtonText: "Yes, delete it!",
                    cancelButtonText: "No, cancel pls!",
                    closeOnConfirm: true,
                    closeOnCancel: true
                },
                function (isConfirm) {
                    if (isConfirm) {
                        $.ajax({
                            url: "{{ base_url('admin/contacts/delete_contact') }}",
                            type: "POST",
                            data: {subscriberId: subscriberID},
                            dataType: "json",
                            success: function (data) {
                                if (data.status == 'success') {
                                    window.location.href = '';
                                } else {

                                    alertMessage('Error: Some thing wrong!');
                                    $('.overlaynew').hide();
                                }
                            }
                        });
                    } else {
                        $('.overlaynew').hide();
                    }
                });

        });


        $(document).on('click', '.chg_status', function () {

            $('.overlaynew').show();
            var status = $(this).attr('change_status');
            var contactId = $(this).attr('subscriberId');

            $.ajax({
                url: "{{ base_url('admin/contacts/update_status') }}",
                type: "POST",
                data: {status: status, contactId: contactId},
                dataType: "json",
                success: function (data) {

                    if (data.status == 'success') {

                        window.location.href = window.location.href;

                    } else {

                        alertMessage('Error: Some thing wrong!');
                        $('.overlaynew').hide();
                    }
                }
            });
        });


        $("#addSubscriberDataForm").submit(function (e) {

            e.preventDefault();
            $('.overlaynew').show();
            var formData = new FormData($(this)[0]);
            $.ajax({
                url: "{{ base_url('admin/contacts/add_contact') }}",
                type: "POST",
                data: formData,
                contentType: false,
                cache: false,
                processData: false,
                dataType: "json",
                success: function (data) {
                    if (data.status == 'success') {
                        window.location.href = '';
                    } else {
                        alertMessage('Error: Some thing wrong!');
                        $('.overlaynew').hide();
                    }
                }, error() {
                    $('.overlaynew').hide();
                }
            });
        });


        $(document).on('click', '.editSubscriber', function () {
            var contactID = $(this).attr('subscriberid');
            $.ajax({
                url: "{{ base_url('admin/contacts/get_contact_info') }}",
                type: "POST",
                data: {contactID: contactID},
                dataType: "json",
                success: function (data) {
                    if (data.status == 'success') {
                        var subData = data.result;
                        $('#edit_firstname').val(subData.firstname);
                        $('#edit_lastname').val(subData.lastname);
                        $('#edit_email').val(subData.email);
                        $('#edit_phone').val(subData.phone);
                        $('#edit_gender').val(subData.gender);
                        $('#edit_countryCode').val(subData.country_code);
                        $('#edit_cityName').val(subData.cityName);
                        $('#edit_stateName').val(subData.stateName);
                        $('#edit_zipCode').val(subData.zipCode);
                        $('#edit_socialProfile').val(subData.socialProfile);
                        $('#edit_tags').val(subData.tagID);
                        $('#edit_subscriberID').val(subData.id);
                        $("#editSubscriberModal").modal();
                    }
                }
            });
        });

        $("#updateSubscriberDataForm").submit(function (e) {

            e.preventDefault();
            $('.overlaynew').show();
            var formData = new FormData($(this)[0]);
            $.ajax({
                url: "{{ base_url('admin/contacts/update_contact_info') }}",
                type: "POST",
                data: formData,
                contentType: false,
                cache: false,
                processData: false,
                dataType: "json",
                success: function (data) {
                    if (data.status == 'success') {
                        window.location.href = '';
                    } else {

                        alertMessage('Error: Some thing wrong!');
                        $('.overlaynew').hide();

                    }
                }
            });
        });

        $(document).on('click', '.editArchiveDataList', function () {
            $('.editArchiveAction').toggle();
        });

        $(document).on('click', '.editDataList', function () {
            $('.editAction').toggle();
            $('.editAction').parent().addClass('nosort');
        });


    });

</script>
